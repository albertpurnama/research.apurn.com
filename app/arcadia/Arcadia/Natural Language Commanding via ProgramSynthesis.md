

## The ODSL (Office Domain Specific Language)

Learning how to build a DSL

### Principles on building DSL

"other apps can build specifications that adhere to a similar design philosophy that consists of three fundamental objectives: (1) Expressive and Extensible, (2) ML-Aware and (3) Robust."

3 Main principles
1. Expressive and Extensible
2. ML-Aware
3. Robust



#### Expressive and Extensible

ODSL has:

1. Entities 
2. Statements (similar to CRUD)
	1. Select statements 
	2. Insert statements
	3. Format statements
	4. Delete statements

> . Entities can have a has-a relationship with other entities defining a hierarchy

Entities are like `slide` , `textRange`,  `shape`, 

Relationship defined like `slide` -> `shape` -> `textRange` and it's hierarchical, you never see `textRange` -> `slide` -> `shape`

#### ML Aware

**Need to be uniform**
This means that the parameters for the functions need to be as consistent as possible. In this case, parameter `Scope` will almost always exist on every statements.
This also includes the camelcase vs pascalcase selection function names!

**Need to be compact**
Don't do multiple functions like `set_bold` `set_type` `set_italic` `set_size`, instead, do `format(...params)`

**Need to minimize redundancy**
Do not have multiple ways to do the same thing, this will confuse the LLM.

**Need to have good Document Context Co-design**
Include as much context as possible in the document context, such as the position of the entities and the identifiers.

#### Robust

Constraint the DSL to valid operations! Do not let the program generated by the LLM get the user to invalid state.

Compile time error > Runtime error!!

**Automatic Code Correction** is super nuts 

### Analysis Retrieval Method (ARM) for ODSL program synthesis

This part is essentially about prompting the LLM to generate an executable program.

![[Screenshot from 2023-06-07 01-13-04.png]]

